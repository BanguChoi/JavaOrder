package com.javaOrder.common.kakaopay.domain;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import com.javaOrder.common.orders.orderitem.repository.OrderItemRepository;
import com.javaOrder.common.orders.repository.OrdersRepository;
import com.javaOrder.member.cart.repository.CartRepository;
import com.javaOrder.member.cartItem.domain.CartItem;
import com.javaOrder.member.cartItem.repository.CartItemRepository;
import com.javaOrder.member.repository.MemberRepository;

import lombok.Setter;

@SpringBootTest
public class PayTests {

	@Setter(onMethod_=@Autowired)
	private MemberRepository memberRepository;
	@Setter(onMethod_=@Autowired)
	private CartRepository cartRepository;
	@Setter(onMethod_=@Autowired)
	private OrdersRepository orderRepository;
	@Setter(onMethod_=@Autowired)
	private CartItemRepository cartItemRepository;
	@Setter(onMethod_=@Autowired)
	private OrderItemRepository orderItemRepository;
	
	
	
	
	// 장바구니 항목들의 이름을 기반으로 주문명 생성 (예: "상품명 외 n건")
	private String generateOrderName(List<CartItem> cartItems) {
	    if (cartItems.isEmpty()) {
	        return "주문 상품 없음";
	    }
	    String firstItemName = cartItems.get(0).getProduct().getProductName();  // 첫 번째 상품명
	    int remainingItems = cartItems.size() - 1;  // 나머지 상품 개수
	    if (remainingItems > 0) {
	        return firstItemName + " 외 " + remainingItems + "건";
	    } else {
	        return firstItemName;  // 상품이 1개인 경우
	    }
	}
}
