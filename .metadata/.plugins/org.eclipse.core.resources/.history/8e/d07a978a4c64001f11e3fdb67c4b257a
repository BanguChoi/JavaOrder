<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout" xmlns:th="http://www.thymeleaf.org/">
<head>
    <title>결제 승인 결과</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="/js/jquery-3.7.1.min.js"></script>
</head>
<body>
<!-- <h1>결제 승인 결과(result of approval)</h1> -->
<!-- <p th:text="${response}"></p> -->

<div class="card text-center">
  <div class="card-header">
    주문 접수 완료
  </div>
  <div class="card-body">
    <h5 class="card-title">주문 번호</h5>
    <p class="card-text orderedNumber"></p>
    <p class="card-text">주문접수가 완료되었습니다.</p>
    <a href="/" target="_parent" class="btn btn-primary">확인</a>
  </div>
  <div class="card-footer text-body-secondary">
    주문번호 말씀하시고 찾아가세요.
  </div>
</div>

<!-- <a href="/" target="_parent">go to index page</a><br /> -->
<!-- <button type="button" id="orderBtn" class="btn btn-primary btn-sm">주문확인</button> -->

<script th:inline="javascript">
	var response = /*[[${response}]]*/'{}';
	var responseObject = JSON.parse(response);
	$(".orderedNumber").html(responseObject.partner_order_id);
	console.log(response);
	
	document.write("<br/><br/>Partner Order ID: " + responseObject.partner_order_id + "<br>");
	document.write("Partner User ID: " + responseObject.partner_user_id + "<br>");
	document.write("Item Name: " + responseObject.item_name + "<br>");
	document.write("Item Code: " + responseObject.item_code + "<br>");
	document.write("Quantity: " + responseObject.quantity + "<br>");
    document.write("Total Amount: " + responseObject.amount.total + "<br>");
    document.write("VAT Amount: " + responseObject.amount.vat + "<br>");
    document.write("Created At: " + responseObject.created_at + "<br>");
    document.write("Approved At: " + responseObject.approved_at + "<br>");
    /*]]>*/
    
    
</script>
</body>
</html>